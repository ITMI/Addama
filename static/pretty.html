<html>
<head>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-url-parser/2.3.1/purl.min.js"></script>
</head>
<body>
<pre id="output_region"></pre>
<script type="text/javascript">
    var __uris2hrefs = function(item) {
        if (_.has(item, "uri")) {
            var uri = item["uri"];
            item["uri"] = "<a href='" + uri + "'>" + uri + "</a>";
        }
    };

    var __display_json = function(data) {
        $("#output_region").html(JSON.stringify(data, undefined, 2));
    };

    $.ajax({
        "method": "get",
        "url": $.url().param("url") || "/",
        "headers": {
            "Accept": "application/json"
        },
        "success": function(data) {
            if (_.isArray(data)) {
                _.each(data, __uris2hrefs);
                __display_json(data);

            } else if (_.isObject(data)) {
                __uris2hrefs(data);
                __display_json(data);

            } else if (_.isString(data)) {
                data = JSON.parse(data);
                _.each(data, function(item) {
                    if (_.isArray(item)) {
                        _.each(item, __uris2hrefs);
                    }
                    __uris2hrefs(item);
                });
                __uris2hrefs(data);
                __display_json(data);
            }
        }
    });
</script>
</body>
</html>