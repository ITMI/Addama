<!doctype html>
<!--<html lang="en">-->
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <link rel="shortcut icon" href="img/isbfavicon.ico" type="image/x-icon"/>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>QED: Atlas</title>
    <meta name="viewport" content="width=1024"/>

    <link rel="stylesheet" href="css/app.css">
    <script src="js/vendor.js"></script>
    <script src="js/app.js"></script>
    <script>require('initialize');</script>
</head>

<body>

<div class="navbar navbar-fixed-top" id="navigation-container"></div>

<div class="cancer-items">
    <ul class="nav nav-pills cancer-selector"></ul>
</div>

<div class="pull-right gene-items">
    <ul class="nav nav-list">
        <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Genes <b class="caret"></b></a>
            <input class="genes-typeahead" type="text" placeholder="Add a gene..."/>
            <ul class="dropdown-menu gene-selector">
                <li><a href='#' onclick='return false;' class='item-remover' data-id='TP53'>TP53 <i class='icon-trash'></i> </a></li>
                <li><a href='#' onclick='return false;' class='item-remover' data-id='CTCF'>CTCF <i class='icon-trash'></i> </a></li>
            </ul>
        </li>
    </ul>
</div>

<div class="atlas-body">
    <div class="atlas-canvas">
        <div class="atlas-container">
            <div id="map-aberrations" class="atlas-map small">
                <label>Aberrations</label>
                <ul class="nav nav-pills pull-right">
                    <li><a href="#" onclick="return false;" class="big"> <i class="icon-resize-full"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="medium"> <i class="icon-resize-vertical"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="small"> <i class="icon-resize-small"></i> </a></li>
                </ul>
                <div class="map-contents container-fluid outer-container"></div>
            </div>

            <div id="map-features" class="atlas-map small"
                 data-small="#v/domains/feature_matrices/2012_09_18_0835__cons/xfeaturegrid"
                 data-medium="#v/domains/feature_matrices/2012_09_18_0835__cons/xfeaturegrid"
                 data-big="#v/domains/feature_matrices/FMatrix_3bMother_BinaryPhenotype_Top50k/heat">
                <div>
                    <label>Features</label>
                    <ul class="nav nav-pills pull-right">
                        <li><a href="#" onclick="return false;" class="big"> <i class="icon-resize-full"/></i> </a></li>
                        <li><a href="#" onclick="return false;" class="medium"> <i class="icon-resize-vertical"/></i> </a></li>
                        <li><a href="#" onclick="return false;" class="small"> <i class="icon-resize-small"></i> </a></li>
                    </ul>
                </div>
                <div class="map-contents container-fluid outer-container"></div>
            </div>

            <div id="map-associations" class="atlas-map small">
                <label>Associations</label>
                <ul class="nav nav-pills pull-right">
                    <li><a href="#" onclick="return false;" class="big"> <i class="icon-resize-full"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="medium"> <i class="icon-resize-vertical"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="small"> <i class="icon-resize-small"></i> </a></li>
                </ul>
                <div class="map-contents container-fluid outer-container"></div>
            </div>

            <div id="map-literature" class="atlas-map small">
                <label>Literature</label>
                <ul class="nav nav-pills pull-right">
                    <li><a href="#" onclick="return false;" class="big"> <i class="icon-resize-full"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="medium"> <i class="icon-resize-vertical"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="small"> <i class="icon-resize-small"></i> </a></li>
                </ul>
                <div class="map-contents container-fluid outer-container"></div>
            </div>

            <div id="map-clinical" class="atlas-map small">
                <label>Clinical</label>
                <ul class="nav nav-pills pull-right">
                    <li><a href="#" onclick="return false;" class="big"> <i class="icon-resize-full"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="medium"> <i class="icon-resize-vertical"/></i> </a></li>
                    <li><a href="#" onclick="return false;" class="small"> <i class="icon-resize-small"></i> </a></li>
                </ul>
                <div class="map-contents container-fluid outer-container"></div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        var Atlas = require("lib/atlas");
        var atlas = new Atlas($(".atlas-body"));
        qed.Events.on("ready", atlas.minimize_all);

        $(".atlas-map a.big").click(function(e) {
            atlas.maximize({"$el": $(e.target).parents(".atlas-map")});
        });

        $(".atlas-map a.medium").click(function(e) {
            atlas.emphasize({"$el": $(e.target).parents(".atlas-map")});
        });

        $(".atlas-map a.small").click(function(e) {
            atlas.minimize({"$el": $(e.target).parents(".atlas-map")});
        });
    });
</script>

<!--these scripts are to support lightweight google hangout integration, should not affect how the app runs outside of hangout-->
<!--<script src="//hangoutsapi.talkgadget.google.com/talkgadget/apps/gadgets/js/rpc.js"></script>-->
<!--<script src="//hangoutsapi.talkgadget.google.com/hangouts/api/hangout.js?v=1.0"></script>-->

</body>
</html>
